# BI完整性设计    
![image](https://user-images.githubusercontent.com/20431533/115116863-8053ff80-9fce-11eb-9451-2381c27c8148.png)

简单的BI设计过程比较直观，选择若干数据指标，选择若干图表，再按照某种组合方式在页面上呈现出来，最后配上若干颜色...事实上，按这种方式开发出来的报表，也是可用的。但是可用不代表好用，不代表该设计**完整**地符了用户需求，更不能确保每次随性开发的品质一致。      

所谓完整性设计，是指设计者由浅入深地分析用户需求，从底层架构到高层展现多层次细化设计，确保产出的设计内容能完整地或较大部分地覆盖和满足用户需求。   

下文虽显粗浅，但不失为散沙对BI完整性设计的若干思索。全文由抽象到具体、由根本到表现分别描述在战略层、范围层、结构层、框架层和表现层各层中需要考虑的问题，力求达成较为完整的设计。   

**注：本文主旨是描述完整性BI设计的方法论，至于辅助完整性BI设计的工具产品，不在本文的讨论范围。**

## 1.战略层分析      
战略层是五层分析架构中最抽象，也是最根本的一层。用户输出的需求代表着客户诉求，但也有多变、伪需求、不完全等问题。一昧以用户需求为纲容易将客户至上蜕变为客户唯上，有“刻舟求剑”的意味。反而，如果能深入分析用户画像并掌握用户的业务流程，设身处地地了解用户的日常工作并深刻体会流程中的痛点，则更有可能辨别和捕获用户真实需求。   

### 1.1.用户分析      
在巨头公司里，BI用户往往包括统管全局的EO战略决策层、分辖一隅的中层战术管理层、运营业务线的运营人员以及为集团状况把脉的分析人员。不同的角色对数据的全面程度、深度要求，对表现层的图表类型和组织需求都大不相同。但相同的是，不同角色希望通过数据驱动效率的期望都是很高的。   

本文未考虑BI内容生产者的需求，仅从内容消费者侧分析和设计。如果考虑BI内容生产者，则还需要考虑如何提高生产者效率，让其在一个平台就能面向不同用户编辑不同类型BI报表，这里考验的是平台工具的普适性。   
   
* EO战略决策层   
战略决策层往往关注集团战略目标的实现情况和发展趋势，如成交类指数、门店效率和人效、第二曲线增长情况、ACN指数等。除有必要，战略决策层希望得到的是集团层面最全、最权威准确、最实时的数据，在数据的深度（细粒度）方面反而要求不高，同时在数据的展现形式上力求不分散其注意力，让其能直接触达数据本身。   

* 战术管理层   
战术管理层往往关注局部（往往是省份和城市）目标的实现情况和发展趋势，如省份/城市的成交指数、所辖区域的门店效率和人效、所辖第二曲线的增长情况等等。和战略决策层相比，其数据全面程度仅限于职责所辖范围，但对数据的深度（细粒度）有更高要求，当然在数据准确性方面也是有高要求的。   

* 运营人员   
运营人员处在业务运营的第一线，首要考虑的是发现绩效瓶颈和分析原因，优化运营流程。因此在确保数据准确的前提下，在其所负责细分业务线的数据范围内，希望数据深度（细粒度）越深越好，方便通过枚举微观个体数据来观察问题和分析问题。   

* 分析人员   
分析人员往往需要对数据进行全链路分析，影响因子和组成因子分析，因此需要对数据指标进行下钻，以便找到产生问题的细节原因，最终提出突破瓶颈的解决方案。   

## 2.范围层分析     
范围层比战略层更为具体，但也仍未达到和用户交互的程度。范围层主要是描述BI系统的功能性需求范围和内容性需求范围，明确地界定了做和不做的边界，可用于甄别看似“有用”实则对用户“无益”的功能设计。对于BI系统而言，最核心的还属内容需求范围。   

### 2.1.功能需求    
* 筛选   
为方便用户定位相关内容，需要提供数值指标的筛选功能   
   
* Excel导出设计   
为方便用户对内容进行分享和数据透视等操作，需提供对应页面内容的Excel导出功能。   

### 2.2.内容需求        
内容需求主要和全面性、准确性和实时性有关。除了准确性需要尽力保障外，但并非说数据越全面、越实时和越易用越好，凡事需要根据用户需求的必要性和有限的研发资源之间进行折中考虑。   
* 全面性      
指标类别全面性和维度全面性。数据的全面性要求尽可能覆盖用户所感兴趣的指标内容。不用用户的相关内容是不一样的，如战略决策层用户关注全集团范围内的成交类数据，而中层管理者则关注所辖局部数据。当然，从数据中台角度上看，底层数据服务要尽可能的全面，但从业务角度上看，在有限资源和时间约束下，为提供能满足用户需要的数据范围即满足全面性要求。   

* 准确性   
准确不仅包括**数值准确性**，还包括**标准准确性**。数值准确性通过确保各环节数据加工的准确和精度可以保障，而标准准确性则需要确保各来源数据是根据统一的权威标准口径来处理。   

譬如，同样是GTV，即使数值准确性得到保证，但如果没有经过风控滤除无效GTV，那么该数值在标准上是不准确的，容易让管理层和执行层错误地接受被夸大的成交水平。   

* 实时性      
实时性为及时反映反映最新的业务状态。业务状态包括事实度量的最新口径、度量值，包括维度类别和维度枚举值等。在考虑技术难度、成本和业务需求的基础上，为BI用户提供性价比最高的实时性方案。   

* 易用性   
对于BI用户而言，易用性包括可快捷、方便的定位到相关内容，能快速地理解相关内容，并能够按既定的方式去处理和分析内容等。   

对应用开发者而言，易用性包括数据层的描述文档齐备且易懂，开发者可根据业务需要组织维度的组合来读取数据。

## 3.结构层设计      
结构层相对范围层而言更具体，同样离能和用户交互还有一段距离。但是在结构层，我们需要根据用户的内容需求进行信息架构设计，目的是为让用户快速找到内容；我们还需要根据用户的功能需求进行应用流程设计，这样方便用户轻车熟路地完成操作任务。对于BI系统而言，最核心的还属内容侧的信息架构设计。      

### 3.1.内容分类和信息架构设计       
内容的组织方式直接影响BI用户是否能快速发现相关内容。信息架构设计本质是网页结构拓扑，需要反映内容分类结果。在框架层设计页面导航时，信息架构应作为BI网页导航设计的蓝本，约束导航设计。

作为房产类BI系统，虽然不同用户层次的关注侧重有所不同，但数据内容还是可根据主题进行分类，如成交类、经纪人类、门店类、商机流量类和客源类等等。总的来说，其总的信息架构大致如图所示，而不同用户层次的关注侧重，在信息架构上则会体现为首页概况和其余页面的内容筛选范围上。   

（配图）

### 3.2.应用流程设计   
报表类应用侧重内容设计，功能性设计的目的主要是支持内容的快速定位和筛选。因此，筛选器、搜索、浏览、下载、转发等一般是BI工具的基础流程。   

## 4.框架层设计   
在经历战略层、范围层的分析论证和初步的结构层设计后，我们接下来进行框架层设计。框架层设计的产出是页面原型，用户已经可以直观地感受整个网页的布局和内部元素，直观的用户体验由此而生。关于页面原型设计工具可以考虑（Axure RP），但是本文主要讨论逻辑类思维工具而非具体工具，因此略去不聊，主要精力在于Dashoard类型、交互组件和控件布局等方面的讨论上。对BI系统而言，所有的设计细节都不应该背离数据服务系统的初衷：满足用户的数据需求，降低数据使用门槛。   

### 4.1.Dashboard类型选择       
Dashboard由数据内容、图表、文字、图片等不同元素组成，是BI用户和BI系统交互的主界面。   

针对四种不同的用户类别，需要有针对性的Dashboard类型，如战略类、战术类、分析类和运营类Dashoard。   

* 战略类   
战略类Dashboard由支持长期战略检监测分析的趋势类内容组成，且内容基本涉及集团经营业务的各方各面。 

* 战术类   
战术类Dashboard由支持增长策略生成的中长期趋势分析与SWOT分析内容组成，内容范围涉及中层管理者所辖的业务和区域范围等。   

* 分析类   
分析类Dashboard由支持洞察获取和推进执行的大量可下钻数据组成，内容范围涉及分析目标所需数据。   

* 运营类
运营类Dashboard由支持监测、度量和管理运营过程的较短周期的运营相关内容组成。   

虽然此处将Dashboard分成四个基本类别，但是在商业产品的设计上，特别是对战略管理层输出产品方案时，应该紧密围绕业务需求，在预算范围内，为业务方提供因地制宜的服务方案。切不可本本主义，不仅不能满足“大客户”意愿，还无法真正赋能业务需求。

### 4.2.使用交互组件    
使用交互组件的目的是让用户自主深挖数据细节和洞见。常见的交互组件类别有下钻上卷类和筛选类。      
* 下钻上卷类交互       
如果BI用户对汇总度量的细节感兴趣，其需要对汇总度量就某维度进行下钻，直到到达能回答用户疑问的层次。

为了满足方便BI用户上钻下卷，展现层和数据层需要有对应的支持设计。展现层的界面应清晰明了，让用户直观了解下钻的层次结构，同时交互应方便用户操作。数据层则要求提供标准、完整、可累加的数据结构，方便表现层进行数据读取。

譬如，对于需要对区域进行下钻的需求，数据层需要根据业务预定的区域层次进行物理建模，分为战区、省区、业绩城市等多层架构。

* 筛选类交互   
BI用户通过筛选功能，可根据自身需要定位相关内容。对于指标类数据内容，筛选器是根据维度和度量范围进行筛选。   

为了避免导致BI用户的疑惑，同时也为了确保交互界面和数据库的前后端对齐，筛选器所控制的度量和维度类别应与筛选器所控制指标群的公共维度和度量一致。譬如，网络流量的维度是端口来源（PC和APP等），而GTV的维度却是门店品牌，这两个没有公共维度的指标实在不应该由同一个筛选器进行管理。

### 4.3.控件布局设计      
#### 4.3.1.使用合适的图表     
为有效展示数据内容，需要根据展示目的来选择合适的图表。根据数据展示目的可分为关系展示、分布展示、组合展示和对比展示。   

* 关系展示
关系展示主要用于突出不同目标度量的关系，方便用户找到关系模式。关系展示的图表形式有散点图和气泡图。

* 分布展示  
分布展示主要用于展示度量在维度上的分布情况，方便用户把握度量细节。分布展示的图表形式有柱状图和散点图。   

* 组合展示
组合展示也主要用于展示度量在维度上的组成占比情况，方便用户对度量的组成有大致了解。组合展示的图表形式有静态图和动态图两种类别，其中静态图有饼图和瀑布图，动态图有堆叠柱状图和堆叠面积图。   

* 对比展示   
对比展示主要用于对不同时间范围或者不同项进行对比，方便用户在同一基准上评价度量表现。对比展示的图表形式有多项目对比和时移对比，其中多项目对比有表格、雷达图和柱状图，时移对比有折线图、条形图。   

* 在具体图表形式的选择上没有标准规则，但是最简单的原则就是根据用户习惯与目的，不同图表类型的优劣势来综合考量。譬如，对于战略决策层而言，和细节分布相比对集团各类指数的同期对比更感兴趣，因此会毫不犹豫地使用对比类图表。   

#### 4.3.2.背景信息丰富      
BI内容需要支持用户决策，就需要提供可支持决策的必要背景信息。譬如，单纯的展示单个指标数据是无意义的，用户搞不清楚这个数据所代表的意义：同期相比是高还是低，和竞争对手相比是高是低，无从得知，因此就无法对当前状态的优劣做出判断，无法做出SWOT分析，更无法谈起如何决策。   

另外，如果某部分数据如果有问题，不管是因为业务层还是数据处理层导致的，都需要将该指标的问题通知用户，避免错误决策。   

在展示丰富背景信息方面，选择同比、环比等不同图表和数字展示，都能起到较好的效果。   
  
#### 4.3.3.简洁   
简洁和背景信息存在一定程度矛盾，这里的折中就是背景信息非必要不提供，一切以保障BI用户的感官清澈直观为准。不顾实际情况将所有内容一股脑全部展示，不仅起不到辅助决策作用，甚至有可能干扰用户获取信息，起到反效果。   

控件的布局和边缘余量设计、文字的大小、排版和密度、字体选择和颜色配合等，都会影响洁面的简洁程度。有心提升界面简洁程度的设计者，需要思考这些方面。在后续表现层设计中，会尤其注意这些方面。   

#### 4.3.4.数字四舍五入         
报表最终呈现的精度并非越高越好，具体的精度还需参考业务用户需求和洁面的简洁要求。一般来说，战略决策层需要的精度可略低，譬如成交额可四舍五入到亿的单位，而对于一线的运营人员，则必须精确到元的单位。注意，此处仅表示展现层的数字呈现精度，对于数据层的数据精度，仍然要求最高精度。   
 
## 5.表现层设计   
完成框架层设计，仅是完成了和用户交互的基础性框架。如果在页面效果上精益求精，则需要进一步在颜色、格式、风格等问题上锱铢必较。传统上很多tob类工具和产品不是特别重视这一层的问题，但是如果在这一层的设计工作能让用户更好的接受数据服务，那么也算是在降低数据使用门槛上立了一功。同样的，所有的设计细节都不应该背离数据服务系统的初衷，切忌喧宾夺主。

### 5.1.终端界面兼容   
不同终端的界面大小不一，非自适应的界面排版在不同终端上呈现的效果不一，对用户体验的差异化有较大影响。为尽可能兼容不同界面，可以考虑以下几点。   
* 自适应的界面排版方案   
对技术有较高要求，能覆盖大部分终端界面，但极端情况下会出现文字过小或者重叠等细节问题。   

* 对常用终端界面进行预配置   
对少量重点用户或者少量重点类别的终端可采用此方法，但需要投入大量人力进行界面适配。   

* 提供自主调整工具   
为用户提供自动调整工具，能让用户灵活调整展示效果。但对于没有调增经验的用户而言，可能会带来体验下降的可能。   

根据用户量和预算来综合以上方法，可达到较好的综合效果。   

### 5.2.颜色设计       
永远不要忘记，颜色设计的目的是让BI用户快速定位重要数据内容，减少视觉疲劳。五颜六色引人耳目，不仅不符合商业产品简洁的传统审美，更会分散BI用户逐渐减退的注意力。   
   
在颜色设计上，比较推崇和公司主色泽匹配的3种以内的色调，一方面配色方面较为稳重，另一方面也足以区分差异化内容，让用户感知区别，快速定位重点。   

### 5.3.标签和数据格式一致性      
为了确保BI用户能快速定位和准确识别报表内容，应当尽可能确保标签和数据格式在所有页面内保持一致。不一致的标签和数据格式不仅可能让用户迷惑，降低其读报效率，同时还会增加错误的概率。因此，在标签和数据格式的设计方面，一定要尽可能保持一致。   

## 6.其他重要原则   
### 6.1.不断演进  
本文题为完整性设计，实则不完整。认识的全面与否，实践的深浅，用户需求的更迭，外部环境的变更，都有可能让本趋向完整的设计变得偏离完整。如此我们意识到，只有一个不断的演进才能支持不断演进的场景，在此需要介绍一些支持设计演进方面的工具和方法论。  

通过在BI应用上进行埋点，对埋点数据进行清洗、处理和分析，可掌握用户的使用习惯和操作，不断优化BI报表的设计。   

## 7.总结   
本文主要描述完整性BI设计的基本型方法论，涉及战略分析、需求范围分析、结构层设计、框架层设计和表现层设计等五个层面，试图较为完整的囊括BI设计的关键点。当然，要将以上方法论进行产品化，则涉及平台工具、内容管理等各方各面，后续会在文章里面继续探讨。   

